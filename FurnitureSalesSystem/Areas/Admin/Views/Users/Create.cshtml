@model FurnitureSalesSystem.Models.ViewModels.UserCreateEditViewModel

@{
    ViewData["Title"] = "Tạo người dùng mới";
}
@if (!ViewData.ModelState.IsValid)
{
    <div class="bg-red-100 text-red-700 border border-red-400 p-3 rounded mb-4">
        @foreach (var err in ViewData.ModelState.Values.SelectMany(v => v.Errors))
        {
            <div>@err.ErrorMessage</div>
        }
    </div>
}

<h2 class="text-3xl font-bold mb-6 text-gray-800">🆕 Tạo người dùng</h2>

<form action="/Admin/Users/Create" method="post" class="bg-white p-6 rounded-lg shadow-lg space-y-6 border border-gray-200">
    @Html.AntiForgeryToken()

    <!-- Tên đăng nhập -->
    <div>
        <label for="UserName" class="block text-sm font-medium text-gray-700 mb-1">👤 Tên đăng nhập</label>
        <input id="UserName" name="UserName" value="@Model.UserName" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-200" />
        <span asp-validation-for="UserName" class="text-red-600 text-sm mt-1 block"></span>
    </div>

    <!-- Email -->
    <div>
        <label for="Email" class="block text-sm font-medium text-gray-700 mb-1">📧 Email</label>
        <input id="Email" name="Email" type="email" value="@Model.Email" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-200" />
        <span asp-validation-for="Email" class="text-red-600 text-sm mt-1 block"></span>
    </div>

    <!-- Mật khẩu -->
    <div>
        <label for="Password" class="block text-sm font-medium text-gray-700 mb-1">🔒 Mật khẩu</label>
        <input id="Password" name="Password" type="password" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-200" />
        <span asp-validation-for="Password" class="text-red-600 text-sm mt-1 block"></span>
    </div>

    <!-- Phân quyền -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">🛡️ Phân quyền</label>
        <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
            @foreach (var role in (List<string>)ViewBag.AllRoles)
            {
                <label class="flex items-center space-x-2 text-sm text-gray-700">
                    <input type="checkbox" name="Roles" value="@role" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500" />
                    <span>@role</span>
                </label>
            }
        </div>
    </div>

    <!-- Nút submit -->
    <div class="flex items-center space-x-4">
        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded shadow">
            ✅ Tạo người dùng
        </button>
        <a href="/Admin/Users" class="text-gray-600 hover:underline text-sm">
            ← Quay lại danh sách
        </a>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
